{"version":3,"sources":["components/Item.js","firebase/config.js","components/ItemList.js","store/CartContext.js","components/ItemCount.js","components/ItemDetail.js","components/ItemDetailConteiner.js","components/Cart.js","components/FormCart.js","components/CartWidget.js","components/NavBar.js","components/Footer.js","App.js","index.js"],"names":["Item","product","className","to","id","nombre","src","img","alt","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","database","firestore","ItemListContainer","useState","productos","setProductos","idCategory","useParams","useEffect","productosDeDB","collection","where","get","then","query","docs","map","doc","data","length","CartContext","createContext","CartContextProvider","children","cart","setCart","console","log","total","setTotal","reduce","acc","cantidad","precio","cartLength","setCartLength","cartAux","values","addItem","item","isInCart","filter","editCart","itemEditado","editado","clear","deleteItem","newCart","Provider","value","ItemCount","initial","stock","contador","setContador","onClick","ItemDetail","producto","useContext","confirmaCompra","setConfirmaCompra","detalle","disabled","ItemDetailContainer","setProducto","res","Object","entries","Cart","FormCart","user","setUser","apellido","setApellido","email","setEmail","onSubmit","e","preventDefault","ventas","add","refDoc","decrement","update","FieldValue","increment","alert","onChange","target","name","placeholder","type","lastName","CartWidget","NavBar","Footer","href","class","App","exact","path","component","ItemList","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.88c467c0.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport '../App.css'\r\n\r\nconst Item = ({ product }) => {\r\n  return (\r\n    <div className = \"Item\">\r\n      <article className = \"ItemArticle\">\r\n          <Link to={`/item/${product.id}`}>\r\n              <h5 className = \"ItemNombre\">{product.nombre}</h5>\r\n          </Link>\r\n              <img\r\n                src={product.img}\r\n                alt={product.nombre}\r\n              />\r\n            \r\n           \r\n              \r\n      </article>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Item;\r\n","//innstalar firebaaase\r\n\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyCK1MPS7gCsh4vTA34OQeAq9EON9GEMf4k\",\r\n    authDomain: \"peliculas-98264.firebaseapp.com\",\r\n    projectId: \"peliculas-98264\",\r\n    storageBucket: \"peliculas-98264.appspot.com\",\r\n    messagingSenderId: \"257217129518\",\r\n    appId: \"1:257217129518:web:4d07797fed60d1664d43bf\"\r\n};\r\n\r\nconst app = firebase.initializeApp(firebaseConfig);\r\nexport function getFirebase() {\r\n  return app;\r\n}\r\nexport const database = firebase.firestore();","import { useEffect, useState } from \"react\";\r\nimport Item from \"./Item\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport { database } from \"../firebase/config\";\r\nimport \"../App.css\"\r\n\r\nconst ItemListContainer = () => {\r\n  const [productos, setProductos] = useState([]);\r\n  const { id: idCategory } = useParams();\r\n\r\n  useEffect(() => {\r\n    setProductos([]);\r\n    const productosDeDB = database.collection(\"peliculas\");\r\n    if (idCategory) {\r\n      productosDeDB\r\n        .where(\"categoria\", \"==\", idCategory)\r\n        .get()\r\n        .then((query) =>\r\n          setProductos(\r\n            query.docs.map((doc) => {\r\n              return { ...doc.data(), id: doc.id };\r\n            })\r\n          )\r\n        );\r\n    } else {\r\n      productosDeDB.get().then((query) =>\r\n        setProductos(\r\n          query.docs.map((doc) => {\r\n            return { ...doc.data(), id: doc.id };\r\n          })\r\n        )\r\n      );\r\n    }\r\n  }, [idCategory]);\r\n\r\n  return (\r\n    <>\r\n    <div className = \"LinkCategoria\">\r\n      <Link to=\"/categoria/Accion\">Accion</Link>\r\n      <Link to=\"/categoria/Aventura\">Aventura</Link>\r\n      <Link to=\"/categoria/Animacion\">Animacion</Link>\r\n    </div>\r\n    <div>\r\n      {productos.length ? (\r\n        productos.map((product) => (\r\n          <Item key={product.id} product={product} />\r\n        ))\r\n      ) : (\r\n        <h3>Cargando...</h3>\r\n      )}\r\n    </div>\r\n  </>\r\n  );\r\n};\r\nexport default ItemListContainer;\r\n","//importo los elementos necesarios para crear mi estado\r\nimport React, { createContext, useState, useEffect} from \"react\";\r\n\r\n//creo mi Contexto para ser usado en cualquier componente\r\n//genero un export const porque lo tengo que importar cada vez que lo quiera usar\r\nexport const CartContext = createContext();\r\n\r\n//creo mi componente que va a contener mi estado global, el cual sera utilizado en App.js\r\nconst CartContextProvider = ({ children }) => {\r\n  //este useState se va a transformar en mi estado global\r\n  const [cart, setCart] = useState([]);\r\n  console.log(cart);\r\n  //funciones que modificaran el cart\r\n  //aagrega al carrito\r\n  const addItem = (item) => {\r\n    setCart([...cart, item]);\r\n  };\r\n\r\n\r\n\r\n  //ver si esta en el carrito\r\n  const isInCart = (id) => {\r\n    const verificar = cart.filter((item) => item.id === id);\r\n    return verificar.length > 0;\r\n  };\r\n\r\n  //funcion para editar la cantidad si ya se encuentra\r\n  const editCart = (itemEditado) => {\r\n    const editado = cart.map((item) =>\r\n      item.id === itemEditado.id ? itemEditado : item\r\n    );\r\n    setCart(editado);\r\n  };\r\n\r\n  //funcion para limpiar todo el carrito //\r\n  const clear = () => {\r\n    setCart([]);\r\n  };\r\n\r\n  //funcion para remover un Item del carrito\r\n  const deleteItem = (id) => {\r\n    const newCart = cart.filter((item) => item.id !== id);\r\n    setCart(newCart);\r\n  };\r\n\r\n\r\n  // total\r\n  const [total, setTotal] = useState(0);\r\n  useEffect(() => {\r\n    setTotal(cart.reduce((acc, {cantidad, precio}) => {\r\n        return acc = acc + (precio * cantidad)\r\n     }, 0))\r\n    }, [cart])\r\n\r\n  \r\n    // Carrito Vacio\r\n    const [cartLength, setCartLength] = useState(0);\r\n    useEffect (() => {\r\n      let cartAux = 0\r\n      for (let itemDelCarrito of cart) {\r\n          cartAux += itemDelCarrito.cantidad \r\n      } \r\n\r\n      return setCartLength(cartAux)\r\n  } , [cart]);\r\n\r\n\r\n  //creo un objeto para ir agregando todo lo que quiera tener en mi estado global\r\n  //puedo pasar array, objetos o funciones\r\n  const values = {\r\n    cart,\r\n    setCart,\r\n    addItem,\r\n    isInCart,\r\n    editCart,\r\n    clear,\r\n    deleteItem,\r\n    total,\r\n    cartLength,\r\n     \r\n  };\r\n\r\n  //retorno el context provider y en value le asigno los valores de mi estado global\r\n  //que quiero dale a mi app\r\n  return <CartContext.Provider value={values}>{children}</CartContext.Provider>;\r\n};\r\n\r\n//exporto mi context para poder usar en App.js\r\nexport default CartContextProvider;\r\n","import React from \"react\";\r\n\r\nconst ItemCount = ({ initial, stock, contador, setContador }) => {\r\n  const handleClick = () => {\r\n    if (contador < stock) {\r\n      setContador(contador + 1);\r\n    }\r\n  };\r\n\r\n  const handleClickResta = () => {\r\n    if (contador > initial) {\r\n      setContador(contador - 1);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <button  onClick={handleClickResta}>\r\n        -\r\n      </button>\r\n      <p>{contador}</p>\r\n      <button onClick={handleClick}>\r\n        +\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ItemCount;","import React, { useState } from \"react\";\r\n//importo hooks para poder usar el estado global\r\nimport { useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n//importo el contexto a usar (estado global)\r\nimport { CartContext } from \"../store/CartContext\";\r\n\r\nimport ItemCount from \"./ItemCount\";\r\n\r\nimport '../App.css'\r\nconst ItemDetail = ({ producto }) => {\r\n  //destructuro mi objeto y traigo lo que necesite de mi estado global\r\n  //utilizo useContext y entre parentesis le paso el contexto del cual quiero traer mi data\r\n  const { cart, addItem, editCart, isInCart } = useContext(CartContext);\r\n\r\n  //estado contador\r\n  const [contador, setContador] = useState(1);\r\n\r\n  const [confirmaCompra, setConfirmaCompra] = useState(false);\r\n  console.log(cart);\r\n\r\n  const agregarAlCarrito = () => {\r\n    setConfirmaCompra(true);\r\n    if (isInCart(producto.id)) {\r\n      editCart({ ...producto, cantidad: contador });\r\n    } else {\r\n      addItem({ ...producto, cantidad: contador });\r\n    }\r\n  };\r\n\r\n \r\n  return (\r\n    <div className = \"ItemDetail\">\r\n      <img\r\n        src={producto.img}\r\n        alt={producto.nombre}\r\n      />\r\n\r\n      <div>\r\n        <h5>{producto.nombre}</h5>\r\n\r\n        <p>{producto.detalle}</p>\r\n        <p className = \"StockDisponible\">\r\n        Stock Disponible: {producto.stock ? producto.stock : \"No hay stock\"}\r\n        </p>\r\n        <p>${producto.precio}</p>\r\n\r\n        {!confirmaCompra ? (\r\n          <>\r\n            <ItemCount\r\n              initial={1}\r\n              stock={producto.stock}\r\n              contador={contador}\r\n              setContador={setContador}\r\n            />\r\n            <button className = \"AgregarAlCarrito\"\r\n              onClick={agregarAlCarrito}\r\n              disabled = {producto.stock === 0}\r\n              \r\n            >\r\n              Agregar al carrito\r\n            </button>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <button className = \"EditarCompra\"\r\n              onClick={() => setConfirmaCompra(false)}\r\n            >\r\n              Editar compra\r\n            </button>\r\n            <div className =\"IrAlCarrito\">\r\n              <Link to=\"/cart\">\r\n                Ir al carrito\r\n              </Link>\r\n            </div>\r\n           \r\n          </>\r\n        )}\r\n      </div>\r\n      <div className = \"SeguirComprando\">\r\n          <Link to=\"/\">Seguir comprando</Link>\r\n      </div>\r\n     \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ItemDetail;","import React, { useState, useEffect } from \"react\";\r\nimport ItemDetail from \"./ItemDetail\";\r\nimport { useParams } from \"react-router\";\r\nimport { database } from \"../firebase/config\";\r\n\r\nconst ItemDetailContainer = () => {\r\n  //id que me manda por parametros en url\r\n  const { id } = useParams();\r\n\r\n  //guardo mi producto buscado con find\r\n  const [producto, setProducto] = useState({});\r\n\r\n  useEffect(() => {\r\n    setProducto({});\r\n    const productosDeDB = database.collection(\"peliculas\").doc(id);\r\n\r\n    productosDeDB.get().then((res) => {\r\n      setProducto({ ...res.data(), id: res.id });\r\n    });\r\n  }, [id]);\r\n\r\n  return (\r\n    <>\r\n      {Object.entries(producto).length !== 0 ? (\r\n        <ItemDetail producto={producto} />\r\n      ) : (\r\n        <h2>Cargando...</h2>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ItemDetailContainer;\r\n","import React, { useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { CartContext } from \"../store/CartContext\";\r\nimport '../App.css'\r\nconst Cart = ({item}) => {\r\n  const { cart, total, cartLength } = useContext(CartContext);\r\n  const {clear} = useContext(CartContext)\r\n  const {deleteItem} = useContext(CartContext)\r\n \r\n\r\n\r\n  return (\r\n    cartLength > 0 ?\r\n    <div className = \"Carrito\">\r\n      <div className = \"Carrito-Volver\">\r\n           <Link to=\"/\">Volver</Link>\r\n      </div>\r\n      <div className = \"Carrito-Item\">\r\n        {cart.length\r\n          ? cart.map((item) => \r\n          <div className = \"Carrito-Item-Div\" key={item.id}>{item.nombre} - ${item.precio}  \r\n            <button onClick={()=> deleteItem(item.id)}>Borrar Producto</button> \r\n          </div>)\r\n          : null}\r\n      </div>\r\n      <h3>Total: ${total}</h3>\r\n      <div className = \"Carrito-FinalizarCompra\">\r\n        <Link className =\"Carrito-FinalizarCompraA\" to=\"/compra\">\r\n          Finalizar compra\r\n        </Link>\r\n        \r\n            <button disabled = {item === null} className = \"Carrito-VaciarCarrito\" onClick = {clear}>Vaciar Carrito</button>\r\n      </div>\r\n    </div>\r\n    : <h3>No hay productos en el Carrito</h3>\r\n  );\r\n}\r\n\r\nexport default Cart","import React, { useState, useContext } from \"react\";\r\nimport { CartContext } from \"../store/CartContext\";\r\nimport { database } from \"../firebase/config\";\r\nimport firebase from 'firebase/app'\r\nimport '../App.css'\r\nimport { Link } from \"react-router-dom\";\r\nexport default function FormCart() {\r\n  const { cart } = useContext(CartContext);\r\n  console.log(cart);\r\n  const [user, setUser] = useState(\"\");\r\n  const [apellido, setApellido] = useState(\"\")\r\n  const[email, setEmail] = useState(\"\")\r\n  const {clear} = useContext(CartContext);\r\n  \r\n\r\n  const tomarDatosUsarioNombre = (e) => {\r\n    setUser(e.target.value);\r\n     \r\n  };\r\n\r\n  const tomarDatosUsarioApellido = (e) => {\r\n    setApellido(e.target.value);\r\n \r\n  };\r\n\r\n  const tomarDatosUsarioEmail = (e) => {\r\n    setEmail(e.target.value);\r\n    \r\n  };\r\n\r\n  \r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n  \r\n\r\n    const ventas = database.collection(\"ventas\");\r\n    const productos = database.collection(\"peliculas\");\r\n    \r\n    ventas\r\n      .add({\r\n        productos: cart,\r\n        user,\r\n        apellido,\r\n        email,\r\n      })\r\n      .then((refDoc) => {\r\n        cart.map((item) => {\r\n          const decrement = item.cantidad;\r\n\r\n          productos.doc(item.id).update({\r\n            stock: firebase.firestore.FieldValue.increment(-decrement)\r\n          });\r\n        });\r\n        console.log(refDoc.id);\r\n        if(cart.length > 0){\r\n        alert(`GRACIAS POR SU COMPRA: ${user}`)\r\n      } else{\r\n        alert(\"CARRITO VACIO\")\r\n      }\r\n        clear()\r\n        \r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className = \"FormularioFinalizarCompra\">\r\n      <h2>Finalizar compra</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <div>\r\n          <input \r\n            onChange={tomarDatosUsarioNombre}\r\n            value={user}\r\n            name=\"user\"\r\n            placeholder=\"Ingrese su Nombre\"\r\n            type=\"nombre\"\r\n          />\r\n          <input\r\n             onChange={tomarDatosUsarioApellido}\r\n             value= {apellido}\r\n             lastName=\"apellido\"\r\n             placeholder=\"Ingrese su Apellido\"\r\n             type=\"apellido\"\r\n          ></input>\r\n          <input\r\n            onChange={tomarDatosUsarioEmail}\r\n            value={email}\r\n            email=\"email\"\r\n            placeholder=\"Ingrese su Correo\"\r\n            type=\"email\"\r\n          ></input>\r\n          \r\n        </div>\r\n      \r\n            <button disabled={user.length === 0 || apellido.length === 0 ||email.length === 0} type = \"submit\">\r\n                    Comprar\r\n            </button>    \r\n            <Link to = \"/\"><button>Volver</button></Link>     \r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react'\r\nimport { Link } from \"react-router-dom\";\r\n \r\n\r\n\r\nconst CartWidget = () => {\r\n     \r\n  \r\n    return (\r\n         \r\n        <>\r\n        <Link to=\"/cart\">\r\n        <img className = \"ImagenCarrito\" src = \"https://image.flaticon.com/icons/png/512/3144/3144456.png\" alt = \"ImagenCarrito\"></img>\r\n        </Link>\r\n        </>\r\n       \r\n    )\r\n\r\n\r\n};\r\n\r\nexport default CartWidget;","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport CartWidget from './CartWidget'\r\n\r\nconst NavBar = () =>{\r\n    return (\r\n        <div className = \"NavBar\">\r\n            <Link to = '/'><h1 className = \"TodoPelis\">TODO PELIS</h1></Link>\r\n            <Link to = \"/Cart\"><CartWidget/></Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NavBar","import React from \"react\"\r\nimport '../App.css'\r\n\r\nconst Footer = () =>{\r\n    return(\r\n        <>\r\n\r\n            <footer>\r\n                <div className = \"ContenedorFooter\">\r\n                    <div className = \"titulofooter\">\r\n                          <span href = '#subir'>TodoPelis</span>\r\n                    </div>\r\n                    <div className = \"Redes__Sociales\">\r\n                        <li className =\"Redes__Sociales--whats\">\r\n                            <img src = \"https://image.flaticon.com/icons/png/128/1383/1383336.png\" alt=\"Wp\"/>\r\n                            <span>3412136741</span>\r\n                        </li>\r\n                        <li class=\"Redes__Sociales--instagram\">\r\n                            <img src=\"https://image.flaticon.com/icons/png/512/725/725339.png\" alt=\"instagram contactanos\"/>\r\n                            <span>@TodoPelis</span>\r\n                        </li>\r\n                    </div>\r\n                    <div className=\"ContactosFooter\">\r\n                        Alvear 126 - Rosario - Argentina - Tel (341) 2136741\r\n                    </div>\r\n                    <div className=\"DerechosFooter\">\r\n                        <p>@TodoPelis - Todos los derechos reservados</p>\r\n                    </div>\r\n                </div>\r\n            </footer>\r\n \r\n        </>\r\n    )\r\n}\r\n\r\nexport default Footer","//elementos para usar REACT.ROUTER-DOM\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\n\n//mis componentes\nimport ItemList from \"./components/ItemList\";\nimport ItemDetailContainer from \"./components/ItemDetailConteiner\";\nimport Cart from './components/Cart'\nimport FormCart from \"./components/FormCart\";\nimport './App.css'\n//importo mi ContextProvider para rodear toda mi app y que pueda usar su info en los componentes encerrados dentro\nimport CartContextProvider from './store/CartContext';\nimport NavBar from \"./components/NavBar\";\nimport Footer from \"./components/Footer\";\n\nexport default function App() {\n  return (\n    /* //CONTEXT */\n    <div className = \"App\">\n        <CartContextProvider>\n          {/* //ROUTER */}\n          <BrowserRouter>\n            <NavBar exact path =\"/\"></NavBar>\n            <Switch>\n              <Route exact path=\"/\" component={ItemList} />\n              <Route path=\"/categoria/:id\" component={ItemList} />\n              <Route path=\"/item/:id\" component={ItemDetailContainer} />\n              <Route path=\"/cart\" component={Cart} />\n              <Route path=\"/compra\" component={FormCart} />\n            </Switch>\n           <Footer></Footer>\n          </BrowserRouter>\n        </CartContextProvider>\n    </div>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}