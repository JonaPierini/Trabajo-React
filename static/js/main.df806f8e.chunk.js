(this.webpackJsonppelis=this.webpackJsonppelis||[]).push([[0],{15:function(e,t,c){},45:function(e,t,c){"use strict";c.r(t);var a=c(2),r=c.n(a),n=c(28),i=c.n(n),s=c(5),o=c(4),j=c(13),l=c(9),d=(c(15),c(1)),b=function(e){var t=e.product;return Object(d.jsx)("div",{className:"Item",children:Object(d.jsxs)("article",{className:"ItemArticle",children:[Object(d.jsx)(s.b,{to:"/item/".concat(t.id),children:Object(d.jsx)("h5",{className:"ItemNombre",children:t.nombre})}),Object(d.jsx)("img",{src:t.img,alt:t.nombre}),Object(d.jsx)("p",{children:t.detalleCorto}),Object(d.jsxs)("p",{children:["Precio: $",t.precio]})]})})},O=c(22);c(46),O.a.initializeApp({apiKey:"AIzaSyCK1MPS7gCsh4vTA34OQeAq9EON9GEMf4k",authDomain:"peliculas-98264.firebaseapp.com",projectId:"peliculas-98264",storageBucket:"peliculas-98264.appspot.com",messagingSenderId:"257217129518",appId:"1:257217129518:web:4d07797fed60d1664d43bf"});var u=O.a.firestore(),h=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),c=t[0],r=t[1],n=Object(o.f)().id;return Object(a.useEffect)((function(){r([]);var e=u.collection("peliculas");n?e.where("categoria","==",n).get().then((function(e){return r(e.docs.map((function(e){return Object(j.a)(Object(j.a)({},e.data()),{},{id:e.id})})))})):e.get().then((function(e){return r(e.docs.map((function(e){return Object(j.a)(Object(j.a)({},e.data()),{},{id:e.id})})))}))}),[n]),Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{children:c.length?c.map((function(e){return Object(d.jsx)(b,{product:e},e.id)})):Object(d.jsx)("h3",{children:"Cargando..."})})})},m=c(30),x=c(31),p=Object(a.createContext)(),f=function(e){var t=e.children,c=Object(a.useState)([]),r=Object(l.a)(c,2),n=r[0],i=r[1],s=Object(a.useState)(0),o=Object(l.a)(s,2),j=o[0],b=o[1];Object(a.useEffect)((function(){b(n.reduce((function(e,t){var c=t.cantidad;return e+t.precio*c}),0))}),[n]);var O=Object(a.useState)(0),u=Object(l.a)(O,2),h=u[0],f=u[1];Object(a.useEffect)((function(){f(n.reduce((function(e,t){return e+t.cantidad}),0))}),[n]);var g=Object(a.useState)(0),v=Object(l.a)(g,2),C=v[0],N=v[1];Object(a.useEffect)((function(){var e,t=0,c=Object(m.a)(n);try{for(c.s();!(e=c.n()).done;){t+=e.value.cantidad}}catch(a){c.e(a)}finally{c.f()}return N(t)}),[n]);var I={cart:n,setCart:i,agregarItem:function(e){i([].concat(Object(x.a)(n),[e]))},estaEnElCart:function(e){return n.filter((function(t){return t.id===e})).length>0},editCart:function(e){var t=n.map((function(t){return t.id===e.id?e:t}));i(t)},clear:function(){i([])},deleteItem:function(e){var t=n.filter((function(t){return t.id!==e}));i(t)},total:j,cartLength:C,cantidadProductos:h};return Object(d.jsx)(p.Provider,{value:I,children:t})},g=function(e){var t=e.initial,c=e.stock,a=e.contador,r=e.setContador;return Object(d.jsxs)("div",{children:[Object(d.jsx)("button",{onClick:function(){a>t&&r(a-1)},children:"-"}),Object(d.jsx)("p",{children:a}),Object(d.jsx)("button",{onClick:function(){a<c&&r(a+1)},children:"+"})]})},v=function(e){var t=e.producto,c=Object(a.useContext)(p),r=c.agregarItem,n=c.editCart,i=c.estaEnElCart,o=Object(a.useState)(1),b=Object(l.a)(o,2),O=b[0],u=b[1],h=Object(a.useState)(!1),m=Object(l.a)(h,2),x=m[0],f=m[1];return Object(d.jsxs)("div",{className:"ItemDetail",children:[Object(d.jsx)("img",{src:t.img,alt:t.nombre}),Object(d.jsxs)("div",{className:"ItemDetailProductos",children:[Object(d.jsx)("h5",{children:t.nombre}),Object(d.jsx)("p",{children:t.detalle}),Object(d.jsxs)("p",{className:"StockDisponible",children:["Stock Disponible: ",t.stock?t.stock:"No hay stock"]}),Object(d.jsxs)("p",{children:["$",t.precio]}),x?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("button",{className:"EditarCompra",onClick:function(){return f(!1)},children:"Modificar compra"}),Object(d.jsx)("div",{className:"IrAlCarrito",children:Object(d.jsx)(s.b,{to:"/cart",children:"Ir al carrito"})})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(g,{initial:1,stock:t.stock,contador:O,setContador:u}),Object(d.jsx)("button",{className:"AgregarAlCarrito",onClick:function(){f(!0),i(t.id)?n(Object(j.a)(Object(j.a)({},t),{},{cantidad:O})):r(Object(j.a)(Object(j.a)({},t),{},{cantidad:O}))},disabled:0===t.stock,children:"Agregar al carrito"})]})]}),Object(d.jsx)("div",{className:"SeguirComprando",children:Object(d.jsx)(s.b,{to:"/",children:"Seguir comprando"})})]})},C=function(){var e=Object(o.f)().id,t=Object(a.useState)({}),c=Object(l.a)(t,2),r=c[0],n=c[1];return Object(a.useEffect)((function(){n({}),u.collection("peliculas").doc(e).get().then((function(e){n(Object(j.a)(Object(j.a)({},e.data()),{},{id:e.id}))}))}),[e]),Object(d.jsx)(d.Fragment,{children:0!==Object.entries(r).length?Object(d.jsx)(v,{producto:r}):Object(d.jsx)("h2",{children:"Cargando..."})})},N=function(e){var t=e.item,c=Object(a.useContext)(p),r=c.cart,n=c.total,i=c.cartLength,o=c.cantidadProductos,j=Object(a.useContext)(p).clear,l=Object(a.useContext)(p).deleteItem;return i>0?Object(d.jsxs)("div",{className:"Carrito",children:[Object(d.jsx)("div",{className:"Carrito-Volver",children:Object(d.jsx)(s.b,{to:"/",children:"Volver"})}),Object(d.jsx)("div",{className:"Carrito-Item",children:r.length?r.map((function(e){return Object(d.jsxs)("div",{className:"Carrito-Item-Div",children:[e.nombre," - $",e.precio," -",Object(d.jsx)("button",{onClick:function(){return l(e.id)},children:"Borrar Producto"})]},e.id)})):null}),Object(d.jsxs)("h3",{children:[" Pelis en el Carrito: ",o," "]}),Object(d.jsxs)("h3",{children:["Total: $",n," "]}),Object(d.jsxs)("div",{className:"Carrito-FinalizarCompra",children:[Object(d.jsx)(s.b,{className:"Carrito-FinalizarCompraA",to:"/compra",children:"Finalizar compra"}),Object(d.jsx)("button",{disabled:null===t,className:"Carrito-VaciarCarrito",onClick:j,children:"Vaciar Carrito"})]})]}):Object(d.jsx)("h3",{className:"CarritoVacio",children:"SU CARRITO SE ENCUENTRA VACIO"})};function I(){var e=Object(a.useContext)(p).cart,t=Object(a.useState)(""),c=Object(l.a)(t,2),r=c[0],n=c[1],i=Object(a.useState)(""),o=Object(l.a)(i,2),j=o[0],b=o[1],h=Object(a.useState)(""),m=Object(l.a)(h,2),x=m[0],f=m[1],g=Object(a.useContext)(p).clear;return Object(d.jsxs)("div",{className:"FormularioFinalizarCompra",children:[Object(d.jsx)("h2",{children:"Finalizar compra"}),Object(d.jsxs)("form",{onSubmit:function(t){t.preventDefault();var c=u.collection("ventas"),a=u.collection("peliculas");c.add({productos:e,user:r,apellido:j,email:x}).then((function(t){e.map((function(e){var t=e.cantidad;a.doc(e.id).update({stock:O.a.firestore.FieldValue.increment(-t)})})),e.length>0?alert("GRACIAS POR SU COMPRA: ".concat(r,", su N\xfamero de pedido es ").concat(t.id)):alert("CARRITO VACIO"),g()}))},children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{onChange:function(e){n(e.target.value)},value:r,name:"user",placeholder:"Ingrese su Nombre",type:"nombre"}),Object(d.jsx)("input",{onChange:function(e){b(e.target.value)},value:j,lastName:"apellido",placeholder:"Ingrese su Apellido",type:"apellido"}),Object(d.jsx)("input",{onChange:function(e){f(e.target.value)},value:x,email:"email",placeholder:"Ingrese su Correo",type:"email"})]}),Object(d.jsx)("button",{disabled:0===r.length||0===j.length||0===x.length,type:"submit",children:"Comprar"}),Object(d.jsx)(s.b,{to:"/",children:Object(d.jsx)("button",{children:"Volver"})})]})]})}var A=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(s.b,{to:"/cart",children:Object(d.jsx)("img",{className:"ImagenCarrito",src:"https://image.flaticon.com/icons/png/512/3144/3144456.png",alt:"ImagenCarrito"})})})},S=function(){return Object(d.jsxs)("div",{className:"NavBar",children:[Object(d.jsx)(s.b,{to:"/",children:Object(d.jsx)("h1",{className:"TodoPelis",children:"TODO PELIS"})}),Object(d.jsx)(s.b,{to:"/categoria/Accion",children:"Accion"}),Object(d.jsx)(s.b,{to:"/categoria/Aventura",children:"Aventura"}),Object(d.jsx)(s.b,{to:"/categoria/Animacion",children:"Animacion"}),Object(d.jsx)(s.b,{to:"/Cart",children:Object(d.jsx)(A,{})})]})},k=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("footer",{children:Object(d.jsxs)("div",{className:"ContenedorFooter",children:[Object(d.jsx)("div",{className:"titulofooter",children:Object(d.jsx)("span",{href:"#subir",children:"TodoPelis"})}),Object(d.jsxs)("div",{className:"Redes__Sociales",children:[Object(d.jsxs)("li",{className:"Redes__Sociales--whats",children:[Object(d.jsx)("img",{src:"https://image.flaticon.com/icons/png/128/1383/1383336.png",alt:"Wp"}),Object(d.jsx)("span",{children:"3412136741"})]}),Object(d.jsxs)("li",{class:"Redes__Sociales--instagram",children:[Object(d.jsx)("img",{src:"https://image.flaticon.com/icons/png/512/725/725339.png",alt:"instagram contactanos"}),Object(d.jsx)("span",{children:"@TodoPelis"})]})]}),Object(d.jsx)("div",{className:"ContactosFooter",children:"Alvear 126 - Rosario - Argentina - Tel (341) 2136741"}),Object(d.jsx)("div",{className:"DerechosFooter",children:Object(d.jsx)("p",{children:"@TodoPelis - Todos los derechos reservados"})})]})})})};function E(){return Object(d.jsx)("div",{className:"App",children:Object(d.jsx)(f,{children:Object(d.jsxs)(s.a,{children:[Object(d.jsx)(S,{exact:!0,path:"/"}),Object(d.jsxs)(o.c,{children:[Object(d.jsx)(o.a,{exact:!0,path:"/",children:Object(d.jsx)(h,{})}),Object(d.jsx)(o.a,{path:"/categoria/:id",children:Object(d.jsx)(h,{})}),Object(d.jsx)(o.a,{path:"/item/:id",children:Object(d.jsx)(C,{})}),Object(d.jsx)(o.a,{path:"/cart",children:Object(d.jsx)(N,{})}),Object(d.jsx)(o.a,{path:"/compra",children:Object(d.jsx)(I,{})})]}),Object(d.jsx)(k,{})]})})})}i.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(E,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.df806f8e.chunk.js.map